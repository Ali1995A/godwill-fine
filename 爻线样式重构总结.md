# 爻线样式重构总结 - Apple风格设计

## 重构目标
将周易爻线组件样式重构为Apple/macOS风格的现代UI设计，遵循精确的尺寸比例和视觉规范。

## 实现成果

### 1. 全局规则
- **总宽度**: 120px
- **高度**: 11px  
- **圆角**: 5px
- **flex-shrink**: 0
- **display**: block

### 2. 阳爻样式 (`.gua-line-yang`)
- **背景渐变**: `linear-gradient(135deg, #0f172a, #1f2937)`
- **阴影**: `0 0.5px 1px rgba(0,0,0,0.28)`
- **尺寸**: 120px × 11px

### 3. 阴爻样式 (`.gua-line-yin`)
- **容器**: 120px宽度，flex布局，space-between对齐
- **段宽**: 45px × 11px
- **间距**: 30px
- **背景**: 与阳爻相同的渐变和阴影

### 4. 变爻高亮 (`.gua-line-mutating`)
- **颜色渐变**: `linear-gradient(135deg, #ff3b30, #ff6b5a)`
- **发光效果**: `0 0 10px rgba(255,59,48,0.45)`
- **呼吸动画**: 2.2秒周期，1 → 1.04 → 1 缩放
- **动效优化**: 支持 `prefers-reduced-motion: reduce`

## 技术特点

### CSS类名结构
```css
/* 阳爻 */
.gua-line-yang

/* 阴爻容器 */
.gua-line-yin

/* 阴爻段 */
.gua-line-yin-segment

/* 变爻高亮 */
.gua-line-mutating
```

### 动画实现
```css
@keyframes gua-breathing {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 8px rgba(255, 59, 48, 0.35);
  }
  50% {
    transform: scale(1.04);
    box-shadow: 0 0 12px rgba(255, 59, 48, 0.6);
  }
}
```

### 可访问性
- 支持系统减少动效设置
- 平滑的过渡动画
- 高对比度的颜色设计

## 测试验证

### 测试组件
1. **爻线样式测试** (`YaoLineTest.tsx`)
   - 展示所有爻线类型
   - 验证尺寸规格
   - 测试变爻动画

2. **卦象示例** (`HexagramExample.tsx`)
   - 实际卦象显示
   - 多种爻线组合
   - 完整的卦象布局

### 测试用例
- 标准阳爻和阴爻
- 变爻高亮效果
- 动画性能
- 响应式设计

## 设计优势

### Apple风格美学
- **简洁优雅**: 干净的线条和圆角
- **微妙渐变**: 柔和的颜色过渡
- **精致阴影**: 细微的深度效果
- **流畅动画**: 自然的交互反馈

### 精确尺寸控制
- 严格按照120px总宽度设计
- 11px高度确保视觉平衡
- 5px圆角符合现代UI趋势
- 30px间距提供清晰的分隔

### 生产就绪
- 完整的CSS类名体系
- 模块化的样式结构
- 兼容现有组件
- 易于维护和扩展

## 使用说明

### 在组件中使用
```tsx
// 阳爻
<div className="gua-line-yang"></div>

// 阴爻
<div className="gua-line-yin">
  <div className="gua-line-yin-segment"></div>
  <div className="gua-line-yin-segment"></div>
</div>

// 变爻
<div className="gua-line-mutating">
  {/* 阳爻或阴爻内容 */}
</div>
```

### 在HexagramDisplay中
组件已完全集成新的爻线样式，支持：
- 自动识别爻线类型 (6,7,8,9)
- 变爻高亮显示
- 动画效果
- 标签显示

## 总结
爻线样式重构成功实现了从传统设计到现代Apple风格的转变，在保持周易传统文化特色的同时，提供了符合现代UI设计标准的视觉体验。所有尺寸严格按照规范实现，确保了设计的精确性和一致性。