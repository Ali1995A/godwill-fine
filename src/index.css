@tailwind base;
@tailwind components;
@tailwind utilities;

/* 用户的自定义组件样式层 - 解决 Vercel 部署样式丢失问题 */
@layer components {

  /* 1. 卡片容器 (使用 Tailwind @apply 替代硬编码) */
  .card {
    @apply bg-white/80 backdrop-blur-sm rounded-3xl p-6 sm:p-8 border border-slate-200/50 shadow-xl hover:shadow-2xl transition-all duration-300;
  }
  
  /* 2. 主按钮 */
  .btn-primary {
    @apply bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3.5 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200;
  }

  /* 3. 次要按钮 */
  .btn-secondary {
    @apply bg-white/90 border-2 border-slate-300 hover:border-slate-400 text-slate-800 font-semibold py-3.5 px-6 rounded-2xl shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200;
  }

  /* 4. 浮动卡片 */
  .floating-card {
    @apply bg-white/90 backdrop-blur-md rounded-3xl p-6 shadow-xl border border-white/30;
  }
  
  /* 5. 爻线样式 */
  .gua-line-yang {
    width: 120px;
    height: 11px;
    background: linear-gradient(135deg, #1f2937, #374151);
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
  }

  .gua-line-yin {
    width: 120px;
    height: 11px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
  }

  .gua-line-yin-segment {
    width: 45px;
    height: 11px;
    background: linear-gradient(135deg, #1f2937, #374151);
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
  }

  .gua-line-mutating .gua-line-yang {
    background: linear-gradient(135deg, #dc2626, #ef4444);
    animation: pulse-red 1.5s ease-in-out infinite;
  }

  .gua-line-mutating .gua-line-yin-segment {
    background: linear-gradient(135deg, #dc2626, #ef4444);
    animation: pulse-red 1.5s ease-in-out infinite;
  }
}

/* 自定义动画 - 放在 @layer 外面 */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out;
}

@keyframes bounce-gentle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

.animate-bounce-gentle {
  animation: bounce-gentle 2s ease-in-out infinite;
}

@keyframes pulse-red {
  0%, 100% {
    box-shadow: 0 0 8px rgba(220, 38, 38, 0.4), 0 2px 4px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  50% {
    box-shadow: 0 0 16px rgba(220, 38, 38, 0.6), 0 2px 4px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }
}